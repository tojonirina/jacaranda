{% extends 'layout.html' %}
{% block title %} Ordinateurs {% endblock %}
{% block content %} 

<div class="container-fluid background" id="background">
    <button class="btn btn-danger pt-0 pl-2 pb-0 pr-2 mt-2" title="Fermer" id="close">X</button>
    <div class="container create">
        <div class="container-fluid subtitle"> Enregistrer un nouveau ordinateur</div>
        <form action="{% url 'computers:store_computer' %}" class="form" method="post">
            {% csrf_token %}
            <table class="table table-bordered table-sm">
                <tr>
                    <td>Nom de l'ordinateur:</td><td><input type="text" name="name" class="form-control" placeholder="ex: LPT01-WIN10" required /></td>
                    <td>Numero de serie:</td><td><input type="text" name="serial_number" class="form-control" placeholder="..." required /></td>
                </tr>
                <tr>
                    <td>Modele:</td><td><input type="text" name="modele" class="form-control" placeholder="..." required /></td>
                    <td>Marque:</td><td><input type="text" name="mark" class="form-control" placeholder="ex: ASUS A2900" required /></td>
                </tr>
                <tr> 
                    <td>Proc.:</td><td><input type="text" name="processor" class="form-control" placeholder="ex: Core i5" required /></td>
                    <td>Proc. gen.:</td><td><input type="text" name="processor_genereation" class="form-control" placeholder="ex: 7th" required /></td>
                </tr>
                <tr>
                    <td>RAM:</td><td><input type="number" name="ram" class="form-control" placeholder="ex: 1024 (1Go)" required /></td>
                    <td>type de RAM:</td><td><input type="text" name="type_of_ram" class="form-control" placeholder="ex: DDR3" required /></td>
                </tr>
                <tr>
                    <td>OS:</td><td><input type="text" name="os" class="form-control" placeholder="ex: Windows 7, Ubuntu" required /></td>
                    <td>Etat:</td>
                    <td>
                        <select name="state" class="form-control" required>
                            <option value="new">Nouveau</option>
                            <option value="old">Ancien</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>Cat&eacute;gorie:</td>
                    <td>
                        <select name="category" class="form-control" required>
                            <option></option>
                            <option value="Laptop">Laptop</option>
                            <option value="Desktop">Desktop</option>
                            <option value="Macbook pro">Macbook pro</option>
                            <option value="Macbook pro retina">Macbook pro retina</option>
                            <option value="Notebook">Notebook</option>
                        </select>
                    </td>
                    <td>Attribuer &agrave;:</td>
                    <td>
                        <select name="assigned_to" class="form-control">
                            <option></option>
                            {% for directory in directories %}
                            <option value="{{ directory.full_name }}">{{ directory.full_name }}</option>
                            {% endfor %}
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>Fournisseur:</td><td><input type="number" name="fournissor" class="form-control" placeholder="ex: Hay Tech" /></td>
                    <td>Contact:</td><td><input type="number" name="fournissor_contact" class="form-control" placeholder="034-23-525-52" /></td>
                </tr>
                <tr>
                    <td>Description: </td><td colspan="4"><textarea name="description" class="form-control" placeholder="..." ></textarea></td>
                </tr>
                <tr>
                    <td colspan="4"><button type="submit" class="btn btn-dark">Valider</button> <button type="reset" class="btn btn-warning">RÃ©initialiser</button></td>
                </tr>
            </table>

        </form>
    </div>
</div>

<div class="container m-0 p-0">
    <div class="container-fluid sublink">
        <a class="btn btn-light" id="add"><i class="bi bi-person-plus-fill"></i> Ajouter nouveau</a>
    </div>
    <div class="container-fluid subtitle">
        <div class="row">
            <div class="col-md-3">
                Liste ordinateur
            </div>
            <div class="col-md-9">
                <input type="search" class="form-control" placeholder="Taper votre recheche">
            </div>
        </div>
    </div>
    
    <table class='table table-sm table-hovered table-bordered m-0'>
        <thead>
            <tr>
                <th>Nom</th>
                <th>Status</th>
                <th>Reference</th>
                <th>Marque</th>
                <th>OS</th>
                <th>Categorie</th>
                <th>Attribu&eacute;</th>
                <th>Date d'attribution</th>
                <th>Date d'ajout</th>
            </tr>
        </thead>
        <tbody>
            
            {% for computer in computers %}
                <tr>
                    <td>{{ computer.name }}</td>
                    <td>{{ computer.state }}</td>
                    <td>{{ computer.reference }}</td>
                    <td>{{ computer.mark }}</td>
                    <td>{{ computer.os }}</td>
                    <td>{{ computer.category }}</td>
                    <td>{{ computer.assigned_to }}</td>
                    <td>{{ computer.assigned_at }}</td>
                    <td>{{ computer.created_at }}</td>
                    <td>
                        <a href="{% url 'computers:show_computer' computer.id %}" title="Voir detail" class="btn btn-light pt-0 pr-1 pb-0 pl-1"> <i class="bi bi-eye-fill"></i> </a>
                        <a href="{% url 'computers:edit_computer' computer.id %}" title="Editer l'information" class="btn btn-light pt-0 pr-1 pb-0 pl-1"> <i class="bi bi-pencil-square"></i> </a>
                    </td>
                </tr>

            {% empty %}
                <tr>
                    <td colspan="5">Aucun ordinateur enregistr&eacute;</td>
                </tr>
            {% endfor %}
                
            
                        
        </tbody>
    </table>
</div>


{% endblock %}